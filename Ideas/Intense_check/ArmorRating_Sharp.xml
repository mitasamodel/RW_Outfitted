<Defs>
	<StatDef>
		<defName>StuffEffectMultiplierArmor</defName>
		<label>Armor - Material effect multiplier</label>
		<category>Apparel</category>
		<defaultBaseValue>0</defaultBaseValue>
		<minValue>0</minValue>
	</StatDef>
	<StatDef>
		<defName>StuffPower_Armor_Sharp</defName>
		<label>Armor - Sharp</label>
		<labelForFullStatList>Armor - Sharp (material factor)</labelForFullStatList>
		<description>Armor against sharp damage like bullets, knife stabs, and animal bites.</description>
		<category>StuffStatFactors</category>
		<defaultBaseValue>0</defaultBaseValue>
		<minValue>0</minValue>
	</StatDef>
	<StatDef Name="ArmorRatingBase" Abstract="True">
		<category>Apparel</category>
		<defaultBaseValue>0</defaultBaseValue>
		<minValue>0</minValue>
		<hideAtValue>0</hideAtValue>
		<parts>
			<li Class="CombatExtended.StatPart_NaturalArmorDurability"/>
			<li Class="CombatExtended.StatPart_QualityConditional">
				<factorAwful>0.6</factorAwful>
				<factorPoor>0.8</factorPoor>
				<factorNormal>1</factorNormal>
				<factorGood>1.15</factorGood>
				<factorExcellent>1.3</factorExcellent>
				<factorMasterwork>1.5</factorMasterwork>
				<factorLegendary>1.75</factorLegendary>
			</li>
			<li Class="StatPart_Health">
				<curve>
					<points>
						<li>(0.0, 0.0)</li>
						<li>(0.5, 0.5)</li>
						<li>(0.8, 1.0)</li>
					</points>
				</curve>
			</li>
		</parts>
		<workerClass>CombatExtended.StatWorker_ArmorPartial</workerClass>
	</StatDef>
	<StatDef ParentName="ArmorRatingBase">
		<defName>ArmorRating_Sharp</defName>
		<label>Armor - Sharp</label>
		<labelForFullStatList>Armor - Sharp (armor stat)</labelForFullStatList>
		<description>Mitigation effect against sharp attacks, such as bullets, stabs, slashes, scratches and bites.\n\nWhen a sharp attack meets armor, this rating is used to reduce the attack's penetration and damage, the stopped part of the attack decaying into a blunt attack. As the armor rating increases, more of the sharp attack is converted into a blunt one, until the rating exceeds the penetration amount and the attack fully decays into a blunt one. For example, a sharp attack with 10 mm RHA penetration after 8 mm RHA of armor keeps 20% of its damage and penetration, with 80% of its blunt penetration being used for a residual blunt attack.\n\nThe reduction effect applies per layer, with each layer (including natural armor) decaying the sharp attack into a blunt one until the attack pierces through all layers or fully decays.\n\nThis rating also doubles as an armor's resistance against being damaged by sharp attacks. Hard armors (armor vests, full plate) take more damage the closer a sharp attack's penetration amount is to the armor rating, whereas soft armors (parkas, dusters) take the amount of damage stopped or at least 20% of the attack's damage. The damage and penetration reduction per layer also affects armor damage, with upper layers reducing the damage inner layers take.\n\nThe internal formulas used:\n - For reducing a sharp attack's damage and penetration per layer:\n    Remaining_Sharp_Penetration = Max(0, Sharp_Penetration - Sharp_Armor_Rating)\n    Sharp_Damage = Sharp_Damage * Remaining_Sharp_Penetration / Sharp_Penetration\n    Sharp_Penetration = Remaining_Sharp_Penetration\n\n - For the residual blunt attack's damage and penetration:\n    Stopped_Sharp_Penetration = Intial_Sharp_Penetration - Final_Sharp_Penetration\n    Blunt_Penetration = Blunt_Penetration * Stopped_Sharp_Penetration / Intial_Sharp_Penetration\n    Blunt_Damage = (Blunt_Penetration * 10) ^ (1 / 3)</description>
		<displayPriorityInCategory>100</displayPriorityInCategory>
		<parts>
			<li Class="StatPart_Stuff">
				<priority>100</priority>
				<stuffPowerStat>StuffPower_Armor_Sharp</stuffPowerStat>
				<multiplierStat>StuffEffectMultiplierArmor</multiplierStat>
			</li>
		</parts>
		<toStringStyle>FloatMaxTwo</toStringStyle>
		<formatString>{0} mm RHA</formatString>
	</StatDef>
</Defs>